(this["webpackJsonpreact_course-goal"]=this["webpackJsonpreact_course-goal"]||[]).push([[0],{25:function(t,e,n){},44:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var s=n(2),i=n(15),a=n.n(i),o=(n(25),n(6)),r=n(16),c=n(17),h=n(20),l=n(19),u=n(18),d=n.n(u),p=(n(44),n(1));var b=function(){return Object(p.jsx)("div",{className:"titlebar",children:Object(p.jsx)("div",{className:"titlebar-text",children:"Search Infinite Images"})})},v=(n(46),function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).state={photos:[],loading:!1,page:1,prevY:0},t}return Object(c.a)(n,[{key:"getPhotos",value:function(t){var e=this;this.setState({loading:!0}),d.a.get("https://pixabay.com/api/?key=15612322-16021d429994f46b808f3487b&page=".concat(t,"&per_page=10")).then((function(t){e.setState({photos:[].concat(Object(o.a)(e.state.photos),Object(o.a)(t.data.hits))}),e.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){this.getPhotos(this.state.page);this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef)}},{key:"handleObserver",value:function(t,e){var n=t[0].boundingClientRect.y;if(this.state.prevY>n){var s=this.state.photos.length/10+1;this.getPhotos(s),this.setState({page:s})}this.setState({prevY:n})}},{key:"render",value:function(){var t=this,e={display:this.state.loading?"block":"none"};return Object(p.jsxs)("div",{className:"main-container",children:[Object(p.jsx)(b,{}),Object(p.jsx)("div",{style:{minHeight:"800px"},children:this.state.photos.map((function(t){return Object(p.jsx)("img",{src:t.previewURL},t.id)}))}),Object(p.jsx)("div",{ref:function(e){return t.loadingRef=e},style:{height:"100px",margin:"30px"},children:Object(p.jsx)("span",{style:e,children:"Loading..."})})]})}}]),n}(s.Component));var g=function(){return new v};a.a.render(Object(p.jsx)(g,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.f9cd15bc.chunk.js.map