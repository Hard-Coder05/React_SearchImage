{"version":3,"sources":["components/UI/TitleBar/TitleBar.jsx","components/ScrollComponent.jsx","App.js","index.js"],"names":["TitleBar","className","ScrollComponent","state","photos","loading","page","prevY","this","setState","axios","get","then","res","data","hits","getPhotos","observer","IntersectionObserver","handleObserver","bind","root","rootMargin","threshold","observe","loadingRef","entities","y","boundingClientRect","curPage","length","loadingTextCSS","display","map","user","src","largeImageURL","alt","id","style","width","ref","height","margin","Component","App","ReactDOM","render","document","getElementById"],"mappings":"8SAYeA,MAVf,WACA,OACA,qBAAKC,UAAU,WAAf,SACC,qBAAKA,UAAU,gBAAf,uCCsFcC,G,wDArFb,aAAe,IAAD,8BACZ,gBACKC,MAAQ,CACXC,OAAQ,GACRC,SAAS,EACTC,KAAM,EACNC,MAAO,GANG,E,6CAUd,SAAUD,GAAM,IAAD,OACbE,KAAKC,SAAS,CAAEJ,SAAS,IACzBK,IACGC,IADH,+EAE4EL,EAF5E,iBAIGM,MAAK,SAAAC,GACJ,EAAKJ,SAAS,CAAEL,OAAO,GAAD,mBAAM,EAAKD,MAAMC,QAAjB,YAA4BS,EAAIC,KAAKC,SAC3D,EAAKN,SAAS,CAAEJ,SAAS,S,+BAIjC,WACIG,KAAKQ,UAAUR,KAAKL,MAAMG,MAQ3BE,KAAKS,SAAW,IAAIC,qBACrBV,KAAKW,eAAeC,KAAKZ,MAPZ,CACba,KAAM,KACNC,WAAY,MACZC,UAAW,IAOVf,KAAKS,SAASO,QAAQhB,KAAKiB,c,4BAG5B,SAAeC,EAAUT,GACvB,IAAMU,EAAID,EAAS,GAAGE,mBAAmBD,EACzC,GAAInB,KAAKL,MAAMI,MAAQoB,EAAG,CACxB,IACME,EADYrB,KAAKL,MAAMC,OAAO0B,OACT,GAAI,EAC/BtB,KAAKQ,UAAUa,GACfrB,KAAKC,SAAS,CAAEH,KAAMuB,IAExBrB,KAAKC,SAAS,CAAEF,MAAOoB,M,oBAGzB,WAAU,IAAD,OAQDI,EAAiB,CAAEC,QAASxB,KAAKL,MAAME,QAAU,QAAU,QAEjE,OACE,qBAAKJ,UAAU,iBAAf,SACJ,sBAAKA,UAAU,eAAf,UACC,cAAC,EAAD,IACA,qBAAKA,UAAU,eAAf,SACCO,KAAKL,MAAMC,OAAO6B,KAAI,SAAAC,GAAI,OAC1B,sBAAKjC,UAAU,aAAf,UACA,qBAAKkC,IAAKD,EAAKE,cAAeC,IAAKH,EAAKI,GAAIC,MAAO,CAACC,MAAM,UAC1D,qBAAKvC,UAAU,YAAf,SACC,2CAAciC,EAAKI,UAHaJ,EAAKI,SAQvC,qBACAG,IAAK,SAAAhB,GAAU,OAAK,EAAKA,WAAaA,GACtCc,MAxBoB,CACjBG,OAAQ,QACRC,OAAQ,QAoBX,SAIA,sBAAMJ,MAAOR,EAAb,mC,GA9E2Ba,cCCfC,MAJf,WACE,OAAO,IAAI3C,GCCb4C,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.569485e6.chunk.js","sourcesContent":["import \"./TitleBar.css\";\r\n\r\nfunction TitleBar(){\r\nreturn (\r\n<div className='titlebar'>\r\n\t<div className='titlebar-text'>\r\n\t\tSearch Infinite Images\r\n\t</div>\r\n</div>\r\n);\r\n}\r\n\r\nexport default TitleBar;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport TitleBar from './UI/TitleBar/TitleBar';\r\nimport \"./ScrollComponent.css\"; \r\n\r\nclass ScrollComponent extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      photos: [],\r\n      loading: false,\r\n      page: 1,\r\n      prevY: 0\r\n    };\r\n  }\r\n\r\n  getPhotos(page){\r\n    this.setState({ loading: true });\r\n    axios\r\n      .get(\r\n        `https://pixabay.com/api/?key=15612322-16021d429994f46b808f3487b&page=${page}&per_page=10`\r\n      )\r\n      .then(res => {\r\n        this.setState({ photos: [...this.state.photos, ...res.data.hits] });\r\n        this.setState({ loading: false });\r\n      });\r\n}\r\n\r\ncomponentDidMount() {\r\n    this.getPhotos(this.state.page);\r\n\r\n\tvar options = {\r\n\t\troot: null,\r\n\t\trootMargin: \"0px\",\r\n\t\tthreshold: 1.0\r\n\t  };\r\n\t  \r\n\t  this.observer = new IntersectionObserver(\r\n\t\tthis.handleObserver.bind(this),\r\n\t\toptions\r\n\t  );\r\n\t  this.observer.observe(this.loadingRef);\r\n  }\r\n\r\n  handleObserver(entities, observer) {\r\n    const y = entities[0].boundingClientRect.y;\r\n    if (this.state.prevY > y) {\r\n      const lastPhoto = this.state.photos.length ;\r\n      const curPage = (lastPhoto/10)+1;\r\n      this.getPhotos(curPage);\r\n      this.setState({ page: curPage });\r\n    }\r\n    this.setState({ prevY: y });\r\n  }\r\n\r\n  render() {\r\n        // Additional css\r\n    const loadingCSS = {\r\n      height: \"100px\",\r\n      margin: \"30px\"\r\n    };\r\n\r\n    // To change the loading icon behavior\r\n    const loadingTextCSS = { display: this.state.loading ? \"block\" : \"none\" };\r\n\r\n    return (\r\n      <div className=\"main-container\">\r\n\t\t<div className='content-area'>\r\n\t\t\t<TitleBar/>\r\n\t\t\t<div className='gallery-area'>\r\n\t\t\t{this.state.photos.map(user => (\r\n\t\t\t\t<div className='image-tile' key={user.id}>\r\n\t\t\t\t<img src={user.largeImageURL} alt={user.id} style={{width:\"100%\"}}/>\r\n\t\t\t\t<div className='text-tile'>\r\n\t\t\t\t\t<p>Image id: {user.id}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\tref={loadingRef => (this.loadingRef = loadingRef)}\r\n\t\t\tstyle={loadingCSS}\r\n\t\t\t>\r\n\t\t\t<span style={loadingTextCSS}>Loading...</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ScrollComponent;\r\n","import ScrollComponent from './components/ScrollComponent';\n\nfunction App() {\n  return new ScrollComponent();\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'; \nReactDOM.render( \n    <App /> ,\n  document.getElementById('root')\n);\n \n"],"sourceRoot":""}