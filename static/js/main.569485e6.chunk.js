(this["webpackJsonpreact_course-goal"]=this["webpackJsonpreact_course-goal"]||[]).push([[0],{25:function(t,e,a){},44:function(t,e,a){},46:function(t,e,a){},47:function(t,e,a){"use strict";a.r(e);var s=a(2),n=a(15),i=a.n(n),r=(a(25),a(6)),c=a(16),o=a(17),h=a(20),l=a(19),d=a(18),b=a.n(d),u=(a(44),a(0));var j=function(){return Object(u.jsx)("div",{className:"titlebar",children:Object(u.jsx)("div",{className:"titlebar-text",children:"Search Infinite Images"})})},g=(a(46),function(t){Object(h.a)(a,t);var e=Object(l.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).state={photos:[],loading:!1,page:1,prevY:0},t}return Object(o.a)(a,[{key:"getPhotos",value:function(t){var e=this;this.setState({loading:!0}),b.a.get("https://pixabay.com/api/?key=15612322-16021d429994f46b808f3487b&page=".concat(t,"&per_page=10")).then((function(t){e.setState({photos:[].concat(Object(r.a)(e.state.photos),Object(r.a)(t.data.hits))}),e.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){this.getPhotos(this.state.page);this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef)}},{key:"handleObserver",value:function(t,e){var a=t[0].boundingClientRect.y;if(this.state.prevY>a){var s=this.state.photos.length/10+1;this.getPhotos(s),this.setState({page:s})}this.setState({prevY:a})}},{key:"render",value:function(){var t=this,e={display:this.state.loading?"block":"none"};return Object(u.jsx)("div",{className:"main-container",children:Object(u.jsxs)("div",{className:"content-area",children:[Object(u.jsx)(j,{}),Object(u.jsx)("div",{className:"gallery-area",children:this.state.photos.map((function(t){return Object(u.jsxs)("div",{className:"image-tile",children:[Object(u.jsx)("img",{src:t.largeImageURL,alt:t.id,style:{width:"100%"}}),Object(u.jsx)("div",{className:"text-tile",children:Object(u.jsxs)("p",{children:["Image id: ",t.id]})})]},t.id)}))}),Object(u.jsx)("div",{ref:function(e){return t.loadingRef=e},style:{height:"100px",margin:"30px"},children:Object(u.jsx)("span",{style:e,children:"Loading..."})})]})})}}]),a}(s.Component));var p=function(){return new g};i.a.render(Object(u.jsx)(p,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.569485e6.chunk.js.map